{"version":3,"file":"static/js/259.596e3ccd.chunk.js","mappings":"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","sources":["pages/CambiarContraseña/CambiarContraseña.module.css","pages/CambiarContraseña/CambiarContraseña.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formulario\":\"CambiarContraseña_formulario__UlnEA\",\"title\":\"CambiarContraseña_title__6iFZJ\",\"message\":\"CambiarContraseña_message__cDbHK\",\"success\":\"CambiarContraseña_success__tMrWq\",\"error\":\"CambiarContraseña_error__sYucp\",\"field\":\"CambiarContraseña_field__9d485\",\"buttons\":\"CambiarContraseña_buttons__LZ-n6\",\"primary\":\"CambiarContraseña_primary__1S-7+\",\"secondary\":\"CambiarContraseña_secondary__4i9c4\"};","/* src/pages/CambiarContraseña/CambiarContraseña.jsx */\r\n\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  getAuth,\r\n  updatePassword,\r\n  EmailAuthProvider,\r\n  reauthenticateWithCredential,\r\n  signOut\r\n} from \"firebase/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useIdioma } from \"../../context/IdiomaContext\";\r\nimport styles from \"./CambiarContraseña.module.css\";\r\n\r\nexport default function CambiarContraseña() {\r\n  const { t } = useIdioma();\r\n  const navigate = useNavigate();\r\n  const [actualPassword, setActualPassword]   = useState(\"\");\r\n  const [nuevaPassword, setNuevaPassword]     = useState(\"\");\r\n  const [confirmarPassword, setConfirmarPassword] = useState(\"\");\r\n  const [mensaje, setMensaje]                 = useState(\"\");\r\n  const [error, setError]                     = useState(\"\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setMensaje(\"\");\r\n    setError(\"\");\r\n\r\n    if (nuevaPassword !== confirmarPassword) {\r\n      setError(t(\"las_contraseñas_no_coinciden\"));\r\n      return;\r\n    }\r\n    if (nuevaPassword.length < 6) {\r\n      setError(t(\"la_contraseña_debe_tener_al_menos_6_caracteres\"));\r\n      return;\r\n    }\r\n\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    if (user?.email) {\r\n      try {\r\n        const cred = EmailAuthProvider.credential(user.email, actualPassword);\r\n        await reauthenticateWithCredential(user, cred);\r\n        await updatePassword(user, nuevaPassword);\r\n        setMensaje(t(\"contraseña_actualizada_correctamente\"));\r\n        setActualPassword(\"\");\r\n        setNuevaPassword(\"\");\r\n        setConfirmarPassword(\"\");\r\n      } catch (err) {\r\n        if (err.code === \"auth/wrong-password\") {\r\n          setError(t(\"la_contraseña_actual_es_incorrecta\"));\r\n        } else {\r\n          setError(t(\"error_al_cambiar_la_contraseña\"));\r\n        }\r\n      }\r\n    } else {\r\n      setError(t(\"no_hay_usuario_autenticado\"));\r\n    }\r\n  };\r\n\r\n  const handleCerrarSesion = async () => {\r\n    const auth = getAuth();\r\n    await signOut(auth);\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  const handleAtras = () => navigate(-1);\r\n\r\n  return (\r\n    <div className={styles.formulario}>\r\n      <h2 className={styles.title}>{t(\"cambiar_contrasena\")}</h2>\r\n\r\n      {mensaje && (\r\n        <p className={`${styles.message} ${styles.success}`}>{mensaje}</p>\r\n      )}\r\n      {error && <p className={`${styles.message} ${styles.error}`}>{error}</p>}\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className={styles.field}>\r\n          <label htmlFor=\"actualPassword\">{t(\"contrasena_actual\")}</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"actualPassword\"\r\n            value={actualPassword}\r\n            onChange={(e) => setActualPassword(e.target.value)}\r\n            required\r\n            autoComplete=\"current-password\"\r\n          />\r\n        </div>\r\n\r\n        <div className={styles.field}>\r\n          <label htmlFor=\"nuevaPassword\">{t(\"nueva_contrasena\")}</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"nuevaPassword\"\r\n            value={nuevaPassword}\r\n            onChange={(e) => setNuevaPassword(e.target.value)}\r\n            required\r\n            autoComplete=\"new-password\"\r\n          />\r\n        </div>\r\n\r\n        <div className={styles.field}>\r\n          <label htmlFor=\"confirmarPassword\">\r\n            {t(\"confirmar_contrasena\")}\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"confirmarPassword\"\r\n            value={confirmarPassword}\r\n            onChange={(e) => setConfirmarPassword(e.target.value)}\r\n            required\r\n            autoComplete=\"new-password\"\r\n          />\r\n        </div>\r\n\r\n        <div className={styles.buttons}>\r\n          <button type=\"submit\" className={styles.primary}>\r\n            {t(\"cambiar_contrasena\")}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className={styles.secondary}\r\n            onClick={handleAtras}\r\n          >\r\n            {t(\"volver\")}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"names":["CambiarContraseña","t","useIdioma","navigate","useNavigate","actualPassword","setActualPassword","useState","nuevaPassword","setNuevaPassword","confirmarPassword","setConfirmarPassword","mensaje","setMensaje","error","setError","_jsxs","className","styles","formulario","children","_jsx","title","concat","message","success","onSubmit","async","e","preventDefault","length","user","getAuth","currentUser","email","cred","EmailAuthProvider","credential","reauthenticateWithCredential","updatePassword","err","code","field","htmlFor","type","id","value","onChange","target","required","autoComplete","buttons","primary","secondary","onClick","handleAtras"],"sourceRoot":""}