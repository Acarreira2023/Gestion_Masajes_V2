"use strict";(self.webpackChunkgestion_masajes_v2=self.webpackChunkgestion_masajes_v2||[]).push([[966],{966:(e,a,r)=>{r.r(a),r.d(a,{default:()=>v});var n=r(5043),s=r(164),i=r(9379);const l={formulario:"IngresoForm_formulario__+qEfD",field:"IngresoForm_field__ERf64",buttons:"IngresoForm_buttons__1w9Hu",botonArena:"IngresoForm_botonArena__9MoGc",volver:"IngresoForm_volver__cvcrI"};var o=r(5967),c=r(4025),t=r(579);function d(e){let{onBack:a}=e;const{t:r}=(0,s.j)(),[d,u]=(0,n.useState)({fecha:"",tipo:"",inmueble:"",sucursal:"",medio:"",categoria:"",cantidad:1,numeroDoc:"",descripcion:"",total:0}),m=e=>{const{name:a,value:r}=e.target;u(e=>(0,i.A)((0,i.A)({},e),{},{[a]:r}))};return(0,t.jsxs)("form",{className:l.formulario,onSubmit:async e=>{e.preventDefault();const n=(0,i.A)({},d);"INMUEBLE"!==n.tipo&&(n.inmueble=""),"SUCURSALES"!==n.tipo&&(n.sucursal="");(await(0,o.g5)(n)).success?(alert(r("ingreso_guardado_correctamente")),a()):alert(r("error_guardar_ingreso"))},children:[(0,t.jsx)("h2",{children:r("formulario_ingreso")}),(0,t.jsxs)("div",{className:l.field,children:[(0,t.jsx)("label",{htmlFor:"fecha",children:r("fecha")}),(0,t.jsx)("input",{type:"date",id:"fecha",name:"fecha",value:d.fecha,onChange:m,required:!0})]}),(0,t.jsxs)("div",{className:l.field,children:[(0,t.jsx)("label",{htmlFor:"tipo",children:r("tipo")}),(0,t.jsxs)("select",{id:"tipo",name:"tipo",value:d.tipo,onChange:m,required:!0,children:[(0,t.jsx)("option",{value:"",children:r("seleccionar_tipo")}),c.N1.map(e=>(0,t.jsx)("option",{value:e,children:r(e)},e))]})]}),"INMUEBLE"===d.tipo&&(0,t.jsxs)("div",{className:l.field,children:[(0,t.jsx)("label",{htmlFor:"inmueble",children:r("inmueble")}),(0,t.jsxs)("select",{id:"inmueble",name:"inmueble",value:d.inmueble,onChange:m,children:[(0,t.jsx)("option",{value:"",children:r("seleccionar_inmueble")}),c.FE.map(e=>(0,t.jsx)("option",{value:e,children:r(e)},e))]})]}),"SUCURSALES"===d.tipo&&(0,t.jsxs)("div",{className:l.field,children:[(0,t.jsx)("label",{htmlFor:"sucursal",children:r("sucursal")}),(0,t.jsxs)("select",{id:"sucursal",name:"sucursal",value:d.sucursal,onChange:m,children:[(0,t.jsx)("option",{value:"",children:r("seleccionar_sucursal")}),c.pr.map(e=>(0,t.jsx)("option",{value:e,children:r(e)},e))]})]}),(0,t.jsxs)("div",{className:l.field,children:[(0,t.jsx)("label",{htmlFor:"medio",children:r("medio_pago")}),(0,t.jsxs)("select",{id:"medio",name:"medio",value:d.medio,onChange:m,children:[(0,t.jsx)("option",{value:"",children:r("seleccionar_medio")}),c.Xf.map(e=>(0,t.jsx)("option",{value:e,children:r(e)},e))]})]}),(0,t.jsxs)("div",{className:l.field,children:[(0,t.jsx)("label",{htmlFor:"categoria",children:r("categoria")}),(0,t.jsxs)("select",{id:"categoria",name:"categoria",value:d.categoria,onChange:m,children:[(0,t.jsx)("option",{value:"",children:r("seleccionar_categoria")}),c.gl.map(e=>(0,t.jsx)("option",{value:e,children:r(e)},e))]})]}),(0,t.jsxs)("div",{className:l.field,children:[(0,t.jsx)("label",{htmlFor:"cantidad",children:r("cantidad")}),(0,t.jsx)("input",{type:"number",id:"cantidad",name:"cantidad",min:"1",value:d.cantidad,onChange:m,required:!0})]}),(0,t.jsxs)("div",{className:l.field,children:[(0,t.jsx)("label",{htmlFor:"numeroDoc",children:r("numero_documento")}),(0,t.jsx)("input",{type:"text",id:"numeroDoc",name:"numeroDoc",value:d.numeroDoc,onChange:m})]}),(0,t.jsxs)("div",{className:l.field,children:[(0,t.jsx)("label",{htmlFor:"descripcion",children:r("descripcion")}),(0,t.jsx)("textarea",{id:"descripcion",name:"descripcion",value:d.descripcion,onChange:m})]}),(0,t.jsxs)("div",{className:l.field,children:[(0,t.jsx)("label",{htmlFor:"total",children:r("total")}),(0,t.jsx)("input",{type:"number",id:"total",name:"total",step:"0.01",min:"0",value:d.total,onChange:m,required:!0})]}),(0,t.jsxs)("div",{className:l.buttons,children:[(0,t.jsx)("button",{type:"submit",className:l.botonArena,children:r("guardar_ingreso")}),(0,t.jsx)("button",{type:"button",className:l.volver,onClick:a,children:r("volver")})]})]})}const u={formulario:"EgresoForm_formulario__rqLJ9",field:"EgresoForm_field__9Qumj",buttons:"EgresoForm_buttons__w22+W",botonArena:"EgresoForm_botonArena__g3szz",volver:"EgresoForm_volver__+eDVl"};function m(e){let{onBack:a}=e;const{t:r}=(0,s.j)(),[l,d]=(0,n.useState)({fecha:"",tipo:"",inmueble:"",sucursal:"",medioPago:"",categoria:"",cantidad:1,numeroDoc:"",descripcion:"",total:0}),m=e=>{const{name:a,value:r}=e.target;d(e=>(0,i.A)((0,i.A)({},e),{},{[a]:r}))};return(0,t.jsxs)("form",{className:u.formulario,onSubmit:async e=>{e.preventDefault();const n=(0,i.A)({},l);"INMUEBLE"!==n.tipo&&(n.inmueble=""),"SUCURSALES"!==n.tipo&&(n.sucursal="");(await(0,o.YQ)(n)).success?(alert(r("egreso_guardado_correctamente")),a()):alert(r("error_guardar_egreso"))},children:[(0,t.jsx)("h2",{children:r("formulario_egreso")}),(0,t.jsxs)("div",{className:u.field,children:[(0,t.jsx)("label",{htmlFor:"fecha",children:r("fecha")}),(0,t.jsx)("input",{type:"date",id:"fecha",name:"fecha",value:l.fecha,onChange:m,required:!0})]}),(0,t.jsxs)("div",{className:u.field,children:[(0,t.jsx)("label",{htmlFor:"tipo",children:r("tipo")}),(0,t.jsxs)("select",{id:"tipo",name:"tipo",value:l.tipo,onChange:m,required:!0,children:[(0,t.jsx)("option",{value:"",children:r("seleccionar_tipo")}),c.L0.map(e=>(0,t.jsx)("option",{value:e,children:r(e)},e))]})]}),"INMUEBLE"===l.tipo&&(0,t.jsxs)("div",{className:u.field,children:[(0,t.jsx)("label",{htmlFor:"inmueble",children:r("inmueble")}),(0,t.jsxs)("select",{id:"inmueble",name:"inmueble",value:l.inmueble,onChange:m,children:[(0,t.jsx)("option",{value:"",children:r("seleccionar_inmueble")}),c.FE.map(e=>(0,t.jsx)("option",{value:e,children:r(e)},e))]})]}),"SUCURSALES"===l.tipo&&(0,t.jsxs)("div",{className:u.field,children:[(0,t.jsx)("label",{htmlFor:"sucursal",children:r("sucursal")}),(0,t.jsxs)("select",{id:"sucursal",name:"sucursal",value:l.sucursal,onChange:m,children:[(0,t.jsx)("option",{value:"",children:r("seleccionar_sucursal")}),c.pr.map(e=>(0,t.jsx)("option",{value:e,children:r(e)},e))]})]}),(0,t.jsxs)("div",{className:u.field,children:[(0,t.jsx)("label",{htmlFor:"medioPago",children:r("medio_pago")}),(0,t.jsxs)("select",{id:"medioPago",name:"medioPago",value:l.medioPago,onChange:m,children:[(0,t.jsx)("option",{value:"",children:r("seleccionar_medio")}),c.j1.map(e=>(0,t.jsx)("option",{value:e,children:r(e)},e))]})]}),(0,t.jsxs)("div",{className:u.field,children:[(0,t.jsx)("label",{htmlFor:"categoria",children:r("categoria")}),(0,t.jsxs)("select",{id:"categoria",name:"categoria",value:l.categoria,onChange:m,children:[(0,t.jsx)("option",{value:"",children:r("seleccionar_categoria")}),c.Q8.map(e=>(0,t.jsx)("option",{value:e,children:r(e)},e))]})]}),(0,t.jsxs)("div",{className:u.field,children:[(0,t.jsx)("label",{htmlFor:"cantidad",children:r("cantidad")}),(0,t.jsx)("input",{type:"number",id:"cantidad",name:"cantidad",min:"1",value:l.cantidad,onChange:m,required:!0})]}),(0,t.jsxs)("div",{className:u.field,children:[(0,t.jsx)("label",{htmlFor:"numeroDoc",children:r("numero_documento")}),(0,t.jsx)("input",{type:"text",id:"numeroDoc",name:"numeroDoc",value:l.numeroDoc,onChange:m})]}),(0,t.jsxs)("div",{className:u.field,children:[(0,t.jsx)("label",{htmlFor:"descripcion",children:r("descripcion")}),(0,t.jsx)("textarea",{id:"descripcion",name:"descripcion",value:l.descripcion,onChange:m})]}),(0,t.jsxs)("div",{className:u.field,children:[(0,t.jsx)("label",{htmlFor:"total",children:r("total")}),(0,t.jsx)("input",{type:"number",id:"total",name:"total",step:"0.01",min:"0",value:l.total,onChange:m,required:!0})]}),(0,t.jsxs)("div",{className:u.buttons,children:[(0,t.jsx)("button",{type:"submit",className:u.botonArena,children:r("guardar_egreso")}),(0,t.jsx)("button",{type:"button",onClick:a,className:u.volver,children:r("volver")})]})]})}var h=r(1238),j=r(5472);const p={container:"Ingresar_container__3I1zF",title:"Ingresar_title__9arIq",cards:"Ingresar_cards__Wjz1I",card:"Ingresar_card__gZB1C",icon:"Ingresar_icon__j-k00",back:"Ingresar_back__+7SBy"};function x(e){let{tipo:a,onBack:r}=e;const{t:i}=(0,s.j)(),l=(0,n.useRef)();return(0,t.jsxs)("div",{className:p.content,children:[(0,t.jsx)("h2",{children:i("ingreso"===a?"archivo_ingreso":"archivo_egreso")}),(0,t.jsx)("input",{type:"file",accept:".csv,.xlsx,.xls",style:{display:"none"},ref:l,onChange:async e=>{const n=e.target.files[0];if(e.target.value="",!n)return;const s=n.name.split(".").pop().toLowerCase(),l=new FileReader;l.onerror=e=>{console.error("FileReader error:",e),alert(i("error_leyendo_archivo"))},l.onload=async e=>{try{let n=[];if("csv"===s){n=e.target.result.split(/\r?\n/).map(e=>e.split(",").map(e=>e.trim()))}else{const a=new Uint8Array(e.target.result),r=h.LF(a,{type:"array"}),s=r.Sheets[r.SheetNames[0]];n=h.Wp.sheet_to_json(s,{header:1,raw:!0,defval:""})}const l=n.findIndex(e=>{const a=e.map(e=>String(e).toLowerCase());return a.includes("fecha")&&a.includes("total")});if(l<0)return void alert(i("encabezado_no_encontrado"));const c=n[l],t=n.slice(l+1),d=c.map(e=>String(e||"").trim().toLowerCase()),u=t.filter(e=>e.some(e=>""!==e&&null!=e)).map(e=>{const a={};if(d.forEach((r,n)=>{const s=e[n];""!==s&&null!=s&&(a[r]=s)}),null!=a.fecha){const e=(e=>{if("number"===typeof e)return new Date(86400*(e-25569)*1e3);if("string"===typeof e&&/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)){const[a,r,n]=e.split("/").map(Number);return new Date(n,r-1,a)}if(e instanceof Date)return e;const a=new Date(e);return isNaN(a)?null:a})(a.fecha);e&&(a.fecha=j.Dc.fromDate(e))}return null!=a.total&&(a.total=Number(a.total)||0),a}).filter(e=>e.total>0);if(0===u.length)return void alert(i("sin_datos_validos"));"ingreso"===a?(await(0,o.Cd)(u),alert(i("ingresos_importados_correctamente"))):(await(0,o.o8)(u),alert(i("egresos_importados_correctamente"))),r()}catch(n){console.error("Error procesando archivo:",n),alert(i("error_procesando_archivo"))}},"csv"===s?l.readAsText(n,"UTF-8"):l.readAsArrayBuffer(n)}}),(0,t.jsx)("button",{onClick:()=>l.current.click(),children:i("seleccionar_archivo")}),(0,t.jsx)("button",{className:p.back,onClick:r,children:i("volver")})]})}function v(){const{t:e}=(0,s.j)(),[a,r]=(0,n.useState)(1),[i,l]=(0,n.useState)(null),[o,c]=(0,n.useState)(null),u=()=>{r(1),l(null),c(null)};if(1===a)return(0,t.jsxs)("div",{className:p.container,children:[(0,t.jsx)("h1",{className:p.title,children:e("ingresar_datos")}),(0,t.jsxs)("div",{className:p.cards,children:[(0,t.jsxs)("div",{className:p.card,onClick:()=>{l("manual"),r(2)},children:[(0,t.jsx)("span",{className:p.icon,children:"\ud83d\udcdd"}),(0,t.jsx)("h3",{children:e("ingreso_manual")})]}),(0,t.jsxs)("div",{className:p.card,onClick:()=>{l("import"),r(2)},children:[(0,t.jsx)("span",{className:p.icon,children:"\ud83d\udcc2"}),(0,t.jsx)("h3",{children:e("importar_archivo")})]})]})]});if(2===a){const a="manual"===i;return(0,t.jsxs)("div",{className:p.container,children:[(0,t.jsx)("h1",{className:p.title,children:e(a?"ingreso_manual":"importar_archivo")}),(0,t.jsxs)("div",{className:p.cards,children:[(0,t.jsxs)("div",{className:p.card,onClick:()=>{c("ingreso"),r(3)},children:[(0,t.jsx)("span",{className:p.icon,children:"\ud83d\udcdd"}),(0,t.jsx)("h3",{children:e(a?"formulario_ingreso":"archivo_ingreso")})]}),(0,t.jsxs)("div",{className:p.card,onClick:()=>{c("egreso"),r(3)},children:[(0,t.jsx)("span",{className:p.icon,children:"\ud83d\udcdd"}),(0,t.jsx)("h3",{children:e(a?"formulario_egreso":"archivo_egreso")})]})]}),(0,t.jsx)("button",{className:p.back,onClick:u,children:e("volver")})]})}return(0,t.jsx)("div",{className:p.container,children:"manual"===i?"ingreso"===o?(0,t.jsx)(d,{onBack:()=>r(2)}):(0,t.jsx)(m,{onBack:()=>r(2)}):(0,t.jsx)(x,{tipo:o,onBack:()=>r(2)})})}},4025:(e,a,r)=>{r.d(a,{FE:()=>s,L0:()=>c,N1:()=>n,Q8:()=>d,Xf:()=>l,gl:()=>o,j1:()=>t,pr:()=>i});const n=["INMUEBLE","VEHICULO","SUCURSALES","INVERSIONES","NORMA - MASAJES","OTROS"],s=["DPTO CIUDAD DE LA PAZ","DPTO CORRIENTES","DPTO CONESA I","DPTO CONESA II"],i=["PRANA","EQUILIBRIO","FOUR SEASONS","MASAJES EN DOMICILIO","MASAJES A DOMICILIO"],l=["EFECTIVO","CHEQUE","TARJETA DE CREDITO","TARJETA DE DEBITO","BILLETERA VIRTUAL","TRANSFERENCIA","ACREDITACION","OTROS"],o=["SERVICIO","ALQUILER","INVERSIONES","OTROS"],c=["INMUEBLE","VEHICULO","SUCURSALES","JUBILACION","OTROS"],t=["EFECTIVO","CHEQUE","TARJETA DE CREDITO","TARJETA DE DEBITO","BILLETERA VIRTUAL","TRANSFERENCIA","OTROS"],d=["SERVICIO","SUELDOS","PRODUCTOS DE LIMPIEZA","PRODUCTOS DE MASAJE","VEH\xcdCULO","SEGUROS","OTROS"]}}]);
//# sourceMappingURL=966.a812a9c9.chunk.js.map